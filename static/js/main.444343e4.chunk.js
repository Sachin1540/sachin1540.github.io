(this["webpackJsonpreact-client-project"]=this["webpackJsonpreact-client-project"]||[]).push([[0],{392:function(e,t,n){e.exports=n(506)},397:function(e,t,n){},506:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),i=(n(397),n(384)),l=n(13),u=n(29),s=n(18),f=n(191),d=n.n(f),m=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(s.a)(o,2),l=i[0],f=i[1],m=Object(a.useState)([]),b=Object(s.a)(m,2),O=b[0],j=b[1],E=new FileReader,h=function(e){e.preventDefault(),n&&(E.onload=function(e){!function(e){var t=e.slice(0,e.indexOf("\n")).split(","),n=e.slice(e.indexOf("\n")+1).split("\n").map((function(e){var n=e.split(",");return t.reduce((function(e,t,a){return e[t]=n[a],e}),{})}));f(n)}(e.target.result)},E.readAsText(n))},p=Object.keys(Object.assign.apply(Object,[{}].concat(Object(u.a)(l))));return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"React Js CSV Import & Store In DB"),r.a.createElement("form",null,r.a.createElement("input",{type:"file",id:"csvFileInput",accept:".csv",onChange:function(e){c(e.target.files[0])}}),r.a.createElement("button",{onClick:function(e){h(e)}},"IMPORT CSV")),r.a.createElement("br",null),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{key:"header"},p.map((function(e){return r.a.createElement("th",null,e)})))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e.id},Object.values(e).map((function(e){return r.a.createElement("td",null,e)})))})))),r.a.createElement("button",{onClick:function(e){d.a.create({baseURL:"http://localhost:5000/csv"}).post("/",e).then((function(t){var n=Object(u.a)(O);n.push(e),j(n)}))}},"Store Data in DB"))},b=n(364),O=n.n(b),j=n(371),E=n.n(j),h=n(381),p=n.n(h),x=n(534),v=n(372),g=n.n(v),w=n(379),R=n.n(w),S=n(255),y=n.n(S),P=n(254),C=n.n(P),D=n(373),k=n.n(D),_=n(374),z=n.n(_),A=n(376),B=n.n(A),I=n(377),N=n.n(I),F=n(378),L=n.n(F),T=n(382),U=n.n(T),$=n(375),J=n.n($),M=n(380),V=n.n(M),W=n(383),q=n.n(W),G={Add:Object(a.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Check:Object(a.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),Clear:Object(a.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),Delete:Object(a.forwardRef)((function(e,t){return r.a.createElement(k.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(a.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),Edit:Object(a.forwardRef)((function(e,t){return r.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Export:Object(a.forwardRef)((function(e,t){return r.a.createElement(J.a,Object.assign({},e,{ref:t}))})),Filter:Object(a.forwardRef)((function(e,t){return r.a.createElement(B.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(N.a,Object.assign({},e,{ref:t}))})),LastPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(L.a,Object.assign({},e,{ref:t}))})),NextPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(y.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(a.forwardRef)((function(e,t){return r.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(a.forwardRef)((function(e,t){return r.a.createElement(C.a,Object.assign({},e,{ref:t}))})),Search:Object(a.forwardRef)((function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(a.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(a.forwardRef)((function(e,t){return r.a.createElement(U.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(a.forwardRef)((function(e,t){return r.a.createElement(q.a,Object.assign({},e,{ref:t}))}))},H=d.a.create({baseURL:"http://localhost:5000/employee"});function K(e){return/^((?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\]))$/.test(String(e).toLowerCase())}var Q=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(s.a)(o,2),l=i[0],f=i[1],d=Object(a.useState)([]),m=Object(s.a)(d,2),b=m[0],j=m[1];Object(a.useEffect)((function(){H.get("/").then((function(e){c(e.data.data)})).catch((function(e){console.log("Error")}))}),[]);return r.a.createElement("div",null,r.a.createElement("div",null,l&&r.a.createElement(x.a,{severity:"error"},b.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),r.a.createElement(O.a,{title:"React Material Table",columns:[{title:"id",field:"_id",hidden:!0},{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Date of Birth",field:"dob"},{title:"Address",field:"address"},{title:"Country",field:"country"}],data:n,icons:G,editable:{onRowUpdate:function(e,t){return new Promise((function(a){!function(e,t,a){var r=[];""===e.name&&r.push("Please Enter Name"),""!==e.email&&!1!==K(e.email)||r.push("Please enter a valid email"),""===e.address&&r.push("Please Enter Address"),""===e.country&&r.push("Please Enter Country"),r.length<1?(console.log("newData._id: ",e._id),H.patch("/"+e._id,e).then((function(r){var o=Object(u.a)(n);o[t.tableData._id]=e,c(Object(u.a)(o)),a(),f(!1),j([])})).catch((function(e){j(["Update failed! Server error"]),f(!0),a()}))):(j(r),f(!0),a())}(e,t,a)}))},onRowAdd:function(e){return new Promise((function(t){!function(e,t){var a=[];void 0===e.name&&a.push("Please Enter Name"),void 0===e.address&&a.push("Please Enter Address"),void 0!==e.email&&!1!==K(e.email)||a.push("Please enter a valid email"),void 0===e.country&&a.push("Please Enter Country"),a.length<1?H.post("/",e).then((function(a){var r=Object(u.a)(n);r.push(e),c(r),t(),j([]),f(!1)})).catch((function(e){j(["Cannot add data. Server error!"]),f(!0),t()})):(j(a),f(!0),t())}(e,t)}))},onRowDelete:function(e){return new Promise((function(t){!function(e,t){console.log("oldData._id: ",e._id),H.delete("/"+e._id).then((function(a){var r=Object(u.a)(n),o=e.tableData._id;r.splice(o,1),c(Object(u.a)(r)),t()})).catch((function(e){j(["Delete failed! Server error"]),f(!0),t()}))}(e,t)}))}},options:{exportButton:!0}}))};var X=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",element:r.a.createElement(Q,null)}),r.a.createElement(l.a,{path:"/csv",element:r.a.createElement(m,null)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[392,1,2]]]);
//# sourceMappingURL=main.444343e4.chunk.js.map